<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS読み込み -->
  <link rel="stylesheet" href="design.css" type="text/css">
  <link rel="stylesheet" href="backToTop.css">

  <title>ゴルフのいろいろ</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  <!-- ナビゲーション -->
  <nav>
    <img src="images/iroiro.png" height="200px" width="200px" alt="サイトロゴ">
    <h1>ゴルフのいろいろ</h1>
    
    <!-- ページ内リンク -->
    <a href="#kikkake"> きっかけ</a>
    <a href="#rules"> 基本ルール</a>
    <a href="#terms"> 用語</a>
    <a href="#skills"> クラブの種類</a>
    <a href="#scores"> スコア記録</a>
    <br>
    
    <!-- ナビ下の著作権表示 -->
    <div class="nav-bottom-text">
      © 2025 Golf no iroiro
    </div>
  </nav>

  <!-- メインコンテンツ -->
  <main>
    <!-- きっかけセクション -->
    <section id="kikkake" class="kikkake-section">
      <h2>きっかけ</h2>
      <div class="kikkake-content">
        <div class="kikkake-text">
          <p>営業先のお客様にコンペへお誘いいただいたことが、ゴルフを始めるきっかけでした。</p>
          これまでゴルフの経験はなく、基本を知ろうと調べてみたのですが、
          初心者向けに分かりやすくまとめられたサイトは意外と少ないと感じた為、
          「自分で整理してみよう」と思いこのサイトを作りました。<br>
          ゴルフのルールやクラブの特徴、よく使う用語をまとめることで、同じ状況の方や自分の学びの記録にもなればと考えています。
        </div>
        <img src="images/cup.png" alt="クラブ" class="kikkake-img">
      </div>
    </section>

    <!-- 基本ルールセクション -->
    <section id="rules">
      <h2> 基本ルール【初心者向け】</h2>
      <div class="rules">
        <!-- 各ルールをまとめる -->
        <div class="rule">
          <h3>プレイの順番</h3>
          <p>ホールでは、カップから遠い人が先に打ちます。ティーショットでは前のホールでスコアが良かった人から打ちます。</p>
        </div>
        <div class="rule">
          <h3>ボールを動かさない</h3>
          <p>基本的にボールは止まった場所から打ちます。拾い上げるときは必ずマークを置いて元の位置に戻しましょう。</p>
        </div>
        <div class="rule">
          <h3>OBとペナルティ</h3>
          <p>白杭の外はOB（アウト）。池や川はペナルティエリア。どちらも1打罰で救済処置をしてプレイを続けます。</p>
        </div>
        <div class="rule">
          <h3>バンカー・グリーンのマナー</h3>
          <p>バンカーでは打つ前に砂にクラブをつけない。グリーンではボールマークを直し、他の人のラインを踏まないようにします。</p>
        </div>
        <div class="rule">
          <h3>スポーツマンシップ</h3>
          <p>仲間のプレイ中は静かに。安全に気を配り、みんなが気持ちよくプレイできるようにしましょう。</p>
        </div>
        <div class="rule">
          <h3>プレーの順番（Ready Golf）</h3>
          <p>
            以前は「ホールから遠い人が先に打つ」のが基本でしたが、現在は
            「安全を確認して準備ができた人から打ってOK」というルールが推奨されています。
            初心者でもテンポよくプレーできるので安心です。
          </p>
        </div>
      </div>
    </section>

    <!-- 用語セクション -->
    <section id="terms">
      <h2>用語【初心者向け】</h2>
      <div class="terms">
        <!-- 用語ごとにdivでまとめる -->
        <div class="term">
          <h3>パー（Par）</h3>
          <p>そのホールの基準打数。例：パー4なら4打でカップイン。</p>
        </div>
        <div class="term">
          <h3>ボギー（Bogey）</h3>
          <p>パーより1打多いスコア。パー4を5打で上がること。</p>
        </div>
        <div class="term">
          <h3>バーディー（Birdie）</h3>
          <p>パーより1打少ないスコア。パー4を3打で上がること。</p>
        </div>
        <!-- 以下、同様に各用語を記載 -->
      </div>
    </section>

    <!-- クラブ紹介セクション -->
    <section id="skills">
      <h2> クラブの種類</h2>
      <img src="images/club.png" alt="クラブ" width="800">
      <div class="skills">
        <!-- 各クラブ紹介 -->
        <div class="skill">
          <h3>ドライバー</h3>
          <p>ティーショットで使うクラブ。飛距離を出すために使用。方向性を安定させるのが課題。</p>
        </div>
        <div class="skill">
          <h3>フェアウェイウッド</h3>
          <p>フェアウェイやラフから長い距離を打つときに使用。ボールをきれいに上げられるよう練習中。</p>
        </div>
        <!-- 以下、他のクラブも同様に記載 -->
      </div>

      <!-- クラブ別平均飛距離 -->
      <h2> クラブ別 平均飛距離（目安）</h2>
      <table class="club-table">
        <thead>
          <tr>
            <th>クラブ</th>
            <th>男性平均</th>
            <th>女性平均</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>ドライバー</td><td>200〜230y</td><td>150〜180y</td></tr>
          <!-- 以下、各クラブごとの距離を記載 -->
        </tbody>
      </table>
    </section>

    <!-- スコア記録セクション -->
    <section id="scores" class="scores-section">
      <div class="scores-header">
        <!-- 左：タイトル＋画像 -->
        <div class="title-box">
          <h2>スコア記録</h2>
          <img src="images/cource.png" alt="コース" width="150">
        </div>

        <!-- 右：スコア入力フォームと表示 -->
        <div class="record-box">
          <form id="scoreForm">
            <input type="date" id="date" required>
            <input type="text" id="course" placeholder="コース名" required>
            <input type="number" id="score" placeholder="スコア" required>
            <button type="submit">追加</button>
          </form>
          <div class="scores" id="scoreList"></div>
          <div class="stats-box" id="stats">平均スコア: - ｜ ベスト: - ｜ ワースト: -</div>
        </div>
      </div>
    </section>
  </main>

  <!-- スコア管理用スクリプト -->
  <script>
    const form = document.getElementById('scoreForm');
    const list = document.getElementById('scoreList');
    const statsBox = document.getElementById('stats');
    const scores = JSON.parse(localStorage.getItem('scores') || '[]');

    // スコア表示
    function render() {
      list.innerHTML = '';
      scores.forEach((s, i) => {
        const div = document.createElement('div');
        div.className = 'score-item';
        div.innerHTML = `${s.date}｜${s.course}｜${s.score}打 <button class="delete-btn" onclick="deleteScore(${i})">削除</button>`;
        list.appendChild(div);
      });
      updateStats();
    }

    // 平均・ベスト・ワースト計算
    function updateStats() {
      if (scores.length === 0) {
        statsBox.textContent = '平均スコア: - ｜ ベスト: - ｜ ワースト: -';
        return;
      }
      const values = scores.map(s => Number(s.score));
      const total = values.reduce((sum, v) => sum + v, 0);
      const avg = (total / values.length).toFixed(1);
      const best = Math.min(...values);
      const worst = Math.max(...values);
      statsBox.textContent = `平均スコア: ${avg} ｜ ベスト: ${best} ｜ ワースト: ${worst}`;
    }

    // スコア削除
    function deleteScore(index) {
      scores.splice(index, 1);
      localStorage.setItem('scores', JSON.stringify(scores));
      render();
    }

    // フォーム送信処理
    form.addEventListener('submit', e => {
      e.preventDefault();
      const newScore = {
        date: document.getElementById('date').value,
        course: document.getElementById('course').value,
        score: document.getElementById('score').value
      };
      scores.push(newScore);
      localStorage.setItem('scores', JSON.stringify(scores));
      form.reset();
      render();
    });

    render();
  </script>

  <!-- ページトップボタン -->
  <button id="backToTop" title="トップへ戻る">↑</button>

  <!-- 外部JS読み込み -->
  <script src="backToTop.js"></script>
</body>
</html>
